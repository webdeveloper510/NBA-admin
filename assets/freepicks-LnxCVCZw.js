import{r as d,h as v,j as e}from"./index-CtwYiYvO.js";import{R as k}from"./index-CZpMkzyz.js";/* empty css                */import{q as y}from"./api-BirPwZXW.js";import{C as b,a as P}from"./CCardBody-DipSZ0lb.js";import{C as N}from"./CCardHeader-C4i2hG_j.js";import{C as A}from"./CAlert-OGTQprjb.js";import{C as _}from"./CForm-D-aJkQNd.js";import{C as p,a as o}from"./CRow-tnFl5euQ.js";import{C as n}from"./CFormLabel-BjuBpC1C.js";import{C as h}from"./CFormInput-BaqrYAwD.js";import{C as S}from"./CFormSelect-BT6lIQQj.js";import{a as w}from"./CButton-Cf3gR883.js";import"./isEqual-wOFi6sWl.js";import"./DefaultLayout-md8ywcpp.js";import"./CContainer-CPipLLWc.js";import"./index.esm-CwAUwQb3.js";import"./cil-lock-locked-DmxpJbVL.js";import"./CFormControlWrapper-BWMHc44O.js";import"./CFormControlValidation-D70q0bWe.js";const X=()=>{const[t,m]=d.useState({title:"",images:[],imageFiles:[],description:"",date:"",sports_name:""}),[g,x]=d.useState({title:"",description:"",date:"",sports_name:""}),[l,u]=d.useState({visible:!1,color:"",message:""}),j=v(),C=(s,r)=>{u({visible:!0,color:s,message:r}),setTimeout(()=>u({visible:!1,color:"",message:""}),5e3)},c=s=>{const{name:r,value:a}=s.target;m({...t,[r]:a})},f=s=>{const r=s.target.files;if(r.length>0){const a=Array.from(r).map(i=>({url:URL.createObjectURL(i),filename:i.name,file:i}));m({...t,images:[...t.images,...a],imageFiles:[...t.imageFiles,...r]}),g.images&&x({...g,images:""})}},F=async s=>{s.preventDefault();try{const r=new FormData;r.append("title",t.title),r.append("date",t.date),r.append("description",t.description),r.append("sports_name",t.sports_name),t.imageFiles.forEach(i=>{r.append("file",i)});const a=await y(r);a&&a.status===200?(C("success","Free Pick saved successfully!"),j("/list-freepicks"),m({title:"",sports_name:"",description:"",date:"",images:[],imageFiles:[]})):console.log("danger",`Error: ${(a==null?void 0:a.error)||"Failed to save Free Pick"}`)}catch(r){console.log("danger",`Error: ${r.message||"Unknown error"}`)}};return e.jsxs(b,{className:"",children:[e.jsx(N,{children:e.jsx("h3",{children:"Add New Free Pick"})}),e.jsxs(P,{children:[l.visible&&e.jsx(A,{color:l.color,children:l.message}),e.jsxs(_,{encType:"multipart/form-data",children:[e.jsxs(p,{className:"mb-3",children:[e.jsxs(o,{md:6,children:[e.jsx(n,{htmlFor:"title",children:"Free Pick Title"}),e.jsx(h,{type:"text",name:"title",id:"title",value:t.title,onChange:c,required:!0})]}),e.jsxs(o,{md:6,children:[e.jsx(n,{htmlFor:"date",children:"Date"}),e.jsx(h,{type:"date",name:"date",id:"date",value:t.date,onChange:c,required:!0})]})]}),e.jsxs(p,{className:"mb-3",children:[e.jsxs(o,{md:6,children:[e.jsx(n,{htmlFor:"sports_name",children:"Sport Name"}),e.jsxs(S,{name:"sports_name",id:"sports_name",value:t.sports_name,onChange:c,required:!0,children:[e.jsx("option",{value:"",children:"Select a sport"}),e.jsx("option",{value:"MLB",children:"MLB"}),e.jsx("option",{value:"NBA",children:"NBA"}),e.jsx("option",{value:"NHL",children:"NHL"})]})]}),e.jsxs(o,{md:6,children:[e.jsx(n,{htmlFor:"image",children:"Free Pick Image"}),e.jsx(h,{type:"file",name:"image",id:"image",accept:"image/*",onChange:f})]})]}),e.jsx(p,{className:"mb-3",children:e.jsxs(o,{md:12,children:[e.jsx(n,{htmlFor:"description",children:"Free Pick Description"}),e.jsx(k,{theme:"snow",value:t.description,onChange:s=>m({...t,description:s}),placeholder:"Write pick content here...",style:{height:"200px",marginBottom:"50px"}})]})}),e.jsx(w,{type:"button",onClick:s=>F(s),color:"primary",children:"Submit Free Pick"})]})]})]})};export{X as default};
