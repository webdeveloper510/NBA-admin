import{r as o,_ as y,R as l,a as f,c as C,P as n}from"./index-B9Karxky.js";import{u as oe,T as le,C as te}from"./api-DmGBBP4R.js";import{y as j,z as re}from"./DefaultLayout-CpXsmfmk.js";var E=o.forwardRef(function(e,s){var r=e.children,i=e.className,a=y(e,["children","className"]);return l.createElement("div",f({className:C("modal-content",i)},a,{ref:s}),r)});E.propTypes={children:n.node,className:n.string};E.displayName="CModalContent";var k=o.forwardRef(function(e,s){var r,i=e.children,a=e.alignment,d=e.className,u=e.fullscreen,m=e.scrollable,p=e.size,v=y(e,["children","alignment","className","fullscreen","scrollable","size"]);return l.createElement("div",f({className:C("modal-dialog",(r={"modal-dialog-centered":a==="center"},r[typeof u=="boolean"?"modal-fullscreen":"modal-fullscreen-".concat(u,"-down")]=u,r["modal-dialog-scrollable"]=m,r["modal-".concat(p)]=p,r),d)},v,{ref:s}),i)});k.propTypes={alignment:n.oneOf(["top","center"]),children:n.node,className:n.string,fullscreen:n.oneOfType([n.bool,n.oneOf(["sm","md","lg","xl","xxl"])]),scrollable:n.bool,size:n.oneOf(["sm","lg","xl"])};k.displayName="CModalDialog";var I=o.createContext({}),K=o.forwardRef(function(e,s){var r=e.children,i=e.alignment,a=e.backdrop,d=a===void 0?!0:a,u=e.className,m=e.container,p=e.duration,v=p===void 0?150:p,x=e.focus,G=x===void 0?!0:x,J=e.fullscreen,w=e.keyboard,Q=w===void 0?!0:w,U=e.onClose,O=e.onClosePrevented,W=e.onShow,R=e.portal,T=R===void 0?!0:R,X=e.scrollable,Y=e.size,P=e.transition,h=P===void 0?!0:P,M=e.unmountOnClose,Z=M===void 0?!0:M,g=e.visible,$=y(e,["children","alignment","backdrop","className","container","duration","focus","fullscreen","keyboard","onClose","onClosePrevented","onShow","portal","scrollable","size","transition","unmountOnClose","visible"]),z=o.useRef(null),b=o.useRef(null),_=o.useRef(null),ee=oe(s,b),B=o.useState(g),c=B[0],N=B[1],L=o.useState(!1),S=L[0],V=L[1],ne={visible:c,setVisible:N};o.useEffect(function(){N(g)},[g]),o.useEffect(function(){var t;return c?(z.current=document.activeElement,document.addEventListener("mouseup",F),document.addEventListener("keydown",H)):(t=z.current)===null||t===void 0||t.focus(),function(){document.removeEventListener("mouseup",F),document.removeEventListener("keydown",H)}},[c]);var D=function(){if(d==="static")return V(!0);N(!1)};o.useLayoutEffect(function(){O&&O(),setTimeout(function(){return V(!1)},v)},[S]),o.useLayoutEffect(function(){return c?(document.body.classList.add("modal-open"),d&&(document.body.style.overflow="hidden",document.body.style.paddingRight="0px"),setTimeout(function(){var t;G&&((t=b.current)===null||t===void 0||t.focus())},h?v:0)):(document.body.classList.remove("modal-open"),d&&(document.body.style.removeProperty("overflow"),document.body.style.removeProperty("padding-right"))),function(){document.body.classList.remove("modal-open"),d&&(document.body.style.removeProperty("overflow"),document.body.style.removeProperty("padding-right"))}},[c]);var F=function(t){b.current&&b.current==t.target&&D()},H=function(t){t.key==="Escape"&&Q&&D()};return l.createElement(l.Fragment,null,l.createElement(le,{in:c,mountOnEnter:!0,nodeRef:b,onEnter:W,onExit:U,unmountOnExit:Z,timeout:h?v:0},function(t){return l.createElement(j,{container:m,portal:T},l.createElement(I.Provider,{value:ne},l.createElement("div",f({className:C("modal",{"modal-static":S,fade:h,show:t==="entered"},u),tabIndex:-1},c?{"aria-modal":!0,role:"dialog"}:{"aria-hidden":"true"},{style:f({},t!=="exited"&&{display:"block"})},$,{ref:ee}),l.createElement(k,{alignment:i,fullscreen:J,scrollable:X,size:Y},l.createElement(E,{ref:_},r)))))}),d&&l.createElement(j,{container:m,portal:T},l.createElement(re,{visible:c})))});K.propTypes={alignment:n.oneOf(["top","center"]),backdrop:n.oneOfType([n.bool,n.oneOf(["static"])]),children:n.node,className:n.string,container:n.any,duration:n.number,focus:n.bool,fullscreen:n.oneOfType([n.bool,n.oneOf(["sm","md","lg","xl","xxl"])]),keyboard:n.bool,onClose:n.func,onClosePrevented:n.func,onShow:n.func,portal:n.bool,scrollable:n.bool,size:n.oneOf(["sm","lg","xl"]),transition:n.bool,unmountOnClose:n.bool,visible:n.bool};K.displayName="CModal";var q=o.forwardRef(function(e,s){var r=e.children,i=e.className,a=y(e,["children","className"]);return l.createElement("div",f({className:C("modal-body",i)},a,{ref:s}),r)});q.propTypes={children:n.node,className:n.string};q.displayName="CModalBody";var A=o.forwardRef(function(e,s){var r=e.children,i=e.className,a=e.closeButton,d=a===void 0?!0:a,u=y(e,["children","className","closeButton"]),m=o.useContext(I).setVisible;return l.createElement("div",f({className:C("modal-header",i)},u,{ref:s}),r,d&&l.createElement(te,{onClick:function(){return m(!1)}}))});A.propTypes={children:n.node,className:n.string,closeButton:n.bool};A.displayName="CModalHeader";export{K as C,A as a,q as b};
