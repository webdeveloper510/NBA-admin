import{r as u,j as e,h as y}from"./index-CNQFfUj5.js";import{h as v,i as N}from"./api-DAPymSh_.js";import{C as w,a as B}from"./CCardBody-CjjD_D7i.js";import{C as T}from"./CCardHeader-CVlHAa7m.js";import{c as L}from"./index-ByGGJtGT.js";import{C as A,a as D,b as j,c as m,d as P,e as f}from"./CTable-DW_kVG5T.js";import{C as E}from"./CFormSwitch-uP08RzKt.js";import"./CFormLabel-DPKdW4bR.js";const S=["xxl","xl","lg","md","sm","xs"],k="xs",C=u.createContext({prefixes:{},breakpoints:S,minBreakpoint:k}),{Consumer:z,Provider:G}=C;function R(s,i){const{prefixes:t}=u.useContext(C);return s||t[i]||i}const F=["as","disabled"];function O(s,i){if(s==null)return{};var t={};for(var a in s)if({}.hasOwnProperty.call(s,a)){if(i.indexOf(a)>=0)continue;t[a]=s[a]}return t}function U(s){return!s||s.trim()==="#"}function b({tagName:s,disabled:i,href:t,target:a,rel:o,role:r,onClick:c,tabIndex:x=0,type:n}){s||(t!=null||a!=null||o!=null?s="a":s="button");const d={tagName:s};if(s==="button")return[{type:n||"button",disabled:i},d];const p=l=>{if((i||s==="a"&&U(t))&&l.preventDefault(),i){l.stopPropagation();return}c==null||c(l)},h=l=>{l.key===" "&&(l.preventDefault(),p(l))};return s==="a"&&(t||(t="#"),i&&(t=void 0)),[{role:r??"button",disabled:void 0,tabIndex:i?void 0:x,href:t,target:s==="a"?a:void 0,"aria-disabled":i||void 0,rel:s==="a"?o:void 0,onClick:p,onKeyDown:h},d]}const I=u.forwardRef((s,i)=>{let{as:t,disabled:a}=s,o=O(s,F);const[r,{tagName:c}]=b(Object.assign({tagName:t,disabled:a},o));return e.jsx(c,Object.assign({},o,r,{ref:i}))});I.displayName="Button";const g=u.forwardRef(({as:s,bsPrefix:i,variant:t="primary",size:a,active:o=!1,disabled:r=!1,className:c,...x},n)=>{const d=R(i,"btn"),[p,{tagName:h}]=b({tagName:s,disabled:r,...x}),l=h;return e.jsx(l,{...p,...x,ref:n,disabled:r,className:L(c,d,o&&"active",t&&`${d}-${t}`,a&&`${d}-${a}`,x.href&&r&&"disabled")})});g.displayName="Button";const J=()=>{const[s,i]=u.useState([]),[t,a]=u.useState(!1),[o,r]=u.useState(!1);y();const c=async()=>{r(!0);try{if(t){const n=await v();n&&n.data&&n.status==200&&i(n.data)}else{const n=await N();n&&n.data&&n.status==200&&i(n.data)}}catch(n){console.error("Error fetching data:",n)}finally{r(!1)}};u.useEffect(()=>{c()},[t]);const x=()=>{a(!t)};return e.jsxs(w,{children:[e.jsx(T,{children:e.jsxs("div",{className:"divButton",children:[e.jsx("h3",{children:t?"Admin List":"Users List"}),e.jsx("div",{children:e.jsx(g,{variant:"primary",onClick:x,style:{marginRight:"12px"},children:t?e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"bi bi-people-fill me-2"})," View Users"]}):e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"bi bi-shield-lock-fill me-2"})," View Admins"]})})})]})}),e.jsx(B,{children:o?e.jsx("div",{className:"text-center",children:"Loading..."}):e.jsxs(A,{striped:!0,hover:!0,responsive:!0,children:[e.jsx(D,{children:e.jsxs(j,{children:[e.jsx(m,{children:"Sr No"}),e.jsx(m,{children:"First Name"}),e.jsx(m,{children:"Last Name"}),e.jsx(m,{children:"Email"}),e.jsx(m,{children:"Status"})]})}),e.jsx(P,{children:s.length>0?s.map((n,d)=>e.jsxs(j,{children:[e.jsx(f,{children:d+1}),e.jsx(f,{children:n.firstname}),e.jsx(f,{children:n.lastname}),e.jsx(f,{children:n.email}),e.jsx(f,{children:e.jsx(E,{size:"lg",checked:n.is_active,disabled:!0})})]},n.id)):e.jsx(j,{children:e.jsx(f,{colSpan:"5",className:"text-center",children:"No data available"})})})]})})]})};export{J as default};
