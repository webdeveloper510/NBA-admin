import{r as n,j as e}from"./index-lMwZ4wLQ.js";import{C as h}from"./index.esm-BkQdAGAJ.js";import{C as B,a as S}from"./CCardBody-DUmW3XHp.js";import{C as v}from"./CCardHeader-BcGlY8d-.js";import{C as N,a as T,b as C,c as t,d as y,e as o}from"./CTable-CyYrwYeA.js";import{C as I}from"./CImage-BkCzwEwJ.js";import{c as D,a as M}from"./cil-trash-prAk5aip.js";import{C as k,a as E,b as F,c as H}from"./CModalHeader-C0t50HYt.js";import{C as x}from"./CFormInput-cuJgiqvF.js";import{C as w}from"./CFormTextarea-DlM5F5tU.js";import{a as p}from"./CContainer-CZBtYz9z.js";import"./api-BvH-JseP.js";import"./DefaultLayout-BLpIrPSH.js";import"./cil-lock-locked-DmxpJbVL.js";import"./CFormControlWrapper-CVxcsyRe.js";import"./CFormControlValidation-a9sYIytv.js";import"./CFormLabel-Bu28IQA3.js";const _=()=>{const[r,c]=n.useState([]),[j,i]=n.useState(!1),[a,m]=n.useState(null);n.useEffect(()=>{const s=JSON.parse(localStorage.getItem("blogs"))||[];c(s)},[]);const g=s=>{const l=[...r];l.splice(s,1),c(l),localStorage.setItem("blogs",JSON.stringify(l))},u=s=>{m({...r[s],index:s}),i(!0)},d=s=>{const{name:l,value:f}=s.target;m({...a,[l]:f})},b=()=>{const s=[...r];s[a.index]={...a},delete s[a.index].index,c(s),localStorage.setItem("blogs",JSON.stringify(s)),i(!1)};return e.jsxs(e.Fragment,{children:[e.jsxs(B,{className:"mt-4",children:[e.jsx(v,{children:e.jsx("h3",{children:"Blog List"})}),e.jsx(S,{children:e.jsxs(N,{striped:!0,hover:!0,responsive:!0,className:"custom-table",children:[e.jsx(T,{children:e.jsxs(C,{children:[e.jsx(t,{children:"#"}),e.jsx(t,{children:"Title"}),e.jsx(t,{children:"Date"}),e.jsx(t,{children:"Image"}),e.jsx(t,{children:"Description"}),e.jsx(t,{children:"Actions"})]})}),e.jsx(y,{children:r.map((s,l)=>e.jsxs(C,{children:[e.jsx(o,{children:l+1}),e.jsx(o,{children:s.title}),e.jsx(o,{children:s.date}),e.jsx(o,{children:s.image&&e.jsx(I,{src:s.image,alt:"blog",thumbnail:!0,width:100})}),e.jsx(o,{children:e.jsx("div",{className:"ellipsis",title:s.description,children:s.description})}),e.jsxs(o,{children:[e.jsx(h,{icon:D,className:"me-2 text-primary",role:"button",onClick:()=>u(l)}),e.jsx(h,{icon:M,className:"text-danger",role:"button",onClick:()=>g(l)})]})]},l))})]})})]}),e.jsxs(k,{visible:j,onClose:()=>i(!1),children:[e.jsx(E,{children:"Edit Blog"}),e.jsxs(F,{children:[e.jsx(x,{label:"Title",name:"title",value:(a==null?void 0:a.title)||"",onChange:d,className:"mb-3"}),e.jsx(x,{label:"Date",type:"date",name:"date",value:(a==null?void 0:a.date)||"",onChange:d,className:"mb-3"}),e.jsx(w,{label:"Description",rows:"4",name:"description",value:(a==null?void 0:a.description)||"",onChange:d})]}),e.jsxs(H,{children:[e.jsx(p,{color:"secondary",onClick:()=>i(!1),children:"Cancel"}),e.jsx(p,{color:"primary",onClick:b,children:"Save Changes"})]})]})]})};export{_ as default};
