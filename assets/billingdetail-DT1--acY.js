import{w as D,r as i,j as e}from"./index-Ds4S_sbO.js";/* empty css             */import{k as _}from"./api-y-LUXTga.js";import{C as b,a as M}from"./CCardBody-Ddudm3uc.js";import{C as P}from"./CCardHeader-BR8f7yzm.js";import{C as T,a as y,b as h,c as a,d as S,e as r}from"./CTable-CYDEEhbS.js";import{a as v}from"./CButton-DlQCzdPo.js";import{C as w,a as B,b as H}from"./CModalHeader-DvRSIGlV.js";import"./DefaultLayout-BylFpt28.js";import"./CContainer-Lscs1XIp.js";import"./index.esm-i4la7etb.js";import"./cil-lock-locked-DmxpJbVL.js";const G=()=>{const{id:n}=D(),[x,l]=i.useState([]),[p,j]=i.useState(!1),[u,c]=i.useState(!1),[C,m]=i.useState(""),f=async()=>{if(!n){console.error("User ID is required");return}j(!0);try{const s=await _(n);s&&s.data&&s.status===200?l(s==null?void 0:s.data.data):l([])}catch(s){console.error("Error fetching billing details:",s),l([])}finally{j(!1)}},g=s=>{m(s),c(!0)};i.useEffect(()=>{f()},[n]);const k=(s,t=100)=>{const o=document.createElement("div");o.innerHTML=s;const d=o.textContent||o.innerText||"";return d.length>t?d.substring(0,t)+"...":d};return e.jsxs(e.Fragment,{children:[e.jsxs(b,{children:[e.jsx(P,{children:e.jsx("h3",{children:"Pick Package Details"})}),e.jsx(M,{children:p?e.jsx("div",{className:"text-center",children:"Loading..."}):e.jsxs(T,{striped:!0,hover:!0,responsive:!0,children:[e.jsx(y,{children:e.jsxs(h,{children:[e.jsx(a,{children:"Sr. No"}),e.jsx(a,{children:"Order ID"}),e.jsx(a,{children:"Pick Title"}),e.jsx(a,{children:"Pick Description"}),e.jsx(a,{children:"Price ($)"}),e.jsx(a,{children:"Duration (Days)"}),e.jsx(a,{children:"Purchase Status"}),e.jsx(a,{children:"Payment Mode"}),e.jsx(a,{children:"Pick Owner"})]})}),e.jsx(S,{children:x.length>0?x.map((s,t)=>e.jsxs(h,{children:[e.jsx(r,{children:t+1}),e.jsx(r,{children:s.order_id}),e.jsx(r,{children:s.pick_title}),e.jsxs(r,{children:[k(s.pick_description),s.pick_description&&e.jsx(v,{color:"link",className:"p-0 ps-1",onClick:()=>g(s.pick_description),children:"Read More"})]}),e.jsxs(r,{children:["$",s.pick_price]}),e.jsx(r,{children:s.pick_time_duration}),e.jsx(r,{children:s.purchase_status?"Success":"Failed"}),e.jsx(r,{children:s.payment_mode}),e.jsx(r,{children:s.pick_owner_name})]},t)):e.jsx(h,{children:e.jsx(r,{colSpan:"9",className:"text-center",children:"No package data available"})})})]})})]}),e.jsxs(w,{visible:u,onClose:()=>c(!1),children:[e.jsx(B,{onClose:()=>c(!1),children:"Full Description"}),e.jsx(H,{children:e.jsx("div",{dangerouslySetInnerHTML:{__html:C}})})]})]})};export{G as default};
