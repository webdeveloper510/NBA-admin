const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./login-CMvDY26O.css"])))=>i.map(i=>d[i]);
import{r as o,h as E,j as e,e as j}from"./index-BIJPVxiq.js";import{C as u}from"./index.esm-Dx9hX5WL.js";import{a as I,s as N}from"./api-By89uxyI.js";import{b as P,a as S}from"./CContainer-DI05J7qD.js";import{C as g,a as h}from"./CRow-9Y3sTn0E.js";import{C as k}from"./CCardGroup-BF9toNFk.js";import{C as A,a as R}from"./CCardBody-bpKcUEOi.js";import{C as T}from"./CForm-B6LCu6VI.js";import{C as D}from"./CAlert-BxNMwbco.js";import{C as x,a as C}from"./CInputGroupText-AQB-kgYi.js";import{c as F}from"./cil-user-Ddrdy7PS.js";import{C as f}from"./CFormInput-BEZx4UqE.js";import{c as G}from"./cil-lock-locked-DmxpJbVL.js";import"./CFormControlWrapper-CM1omUAH.js";import"./CFormControlValidation-ANtJWMYX.js";import"./CFormLabel-BL55jZ_E.js";j(()=>import("./bg_login-CRh7nNuu.js"),[],import.meta.url);j(()=>Promise.resolve({}),__vite__mapDeps([0]),import.meta.url);const ee=()=>{const[n,v]=o.useState(""),[t,y]=o.useState(""),[l,i]=o.useState(""),[m,c]=o.useState(!1),[a,b]=o.useState({}),w=E(),_=()=>{const r={};return n.trim()||(r.email="Email is required"),t?t.length<6&&(r.password="Password must be at least 6 characters"):r.password="Password is required",b(r),Object.keys(r).length===0},L=async r=>{var d,p;if(r.preventDefault(),i(""),!!_()){c(!0);try{const s=await I({email:n,password:t});s.token?(N(s.token),localStorage.setItem("isAuthenticated","true"),localStorage.setItem("username",s.username),w("/dashboard")):(p=(d=s.response)==null?void 0:d.data)!=null&&p.message?i(s.response.data.message):i("Login failed. Please check your credentials and try again.")}catch(s){i("An error occurred during login. Please try again."),console.error("Login error:",s)}finally{c(!1)}}};return e.jsx("div",{className:"bg-body-tertiary min-vh-100 d-flex flex-row align-items-center bg_color_login",children:e.jsx(P,{children:e.jsx(g,{className:"justify-content-center",children:e.jsx(h,{md:6,children:e.jsx(k,{children:e.jsx(A,{className:"p-4",children:e.jsx(R,{children:e.jsxs(T,{onSubmit:L,children:[e.jsx("h1",{children:"Login"}),e.jsx("p",{className:"text-body-secondary",children:"Sign In to your account"}),l&&e.jsx(D,{color:"danger",children:l}),e.jsxs(x,{className:"mb-3",children:[e.jsx(C,{children:e.jsx(u,{icon:F})}),e.jsx(f,{placeholder:"email",autoComplete:"email",value:n,onChange:r=>v(r.target.value),invalid:!!a.email})]}),a.email&&e.jsx("div",{className:"text-danger mb-3 small",children:a.email}),e.jsxs(x,{className:"mb-4",children:[e.jsx(C,{children:e.jsx(u,{icon:G})}),e.jsx(f,{type:"password",placeholder:"Password",autoComplete:"current-password",value:t,onChange:r=>y(r.target.value),invalid:!!a.password})]}),a.password&&e.jsx("div",{className:"text-danger mb-3 small",children:a.password}),e.jsx(g,{children:e.jsx(h,{xs:6,children:e.jsx(S,{type:"submit",color:"primary",className:"px-4",disabled:m,children:m?"Logging in...":"Login"})})})]})})})})})})})})};export{ee as default};
