import{w as D,r as i,j as e}from"./index-B9Karxky.js";/* empty css             */import{k as b}from"./api-DmGBBP4R.js";import{C as _,a as M}from"./CCardBody-C1lREXRH.js";import{C as S}from"./CCardHeader-DES3yvur.js";import{C as T,a as P,b as h,c as a,d as y,e as r}from"./CTable-DJY2A_rA.js";import{a as v}from"./CButton-n53KObT7.js";import{C as B,a as E,b as H}from"./CModalHeader-G0EhHhow.js";import"./DefaultLayout-CpXsmfmk.js";import"./CContainer-DkjRftgT.js";import"./index.esm-B3c1wuS8.js";import"./cil-lock-locked-DmxpJbVL.js";const G=()=>{const{id:n}=D(),[x,l]=i.useState([]),[p,j]=i.useState(!1),[u,c]=i.useState(!1),[C,m]=i.useState(""),f=async()=>{if(!n){console.error("User ID is required");return}j(!0);try{const s=await b(n);s&&s.data&&s.status===200?l(s==null?void 0:s.data.data):l([])}catch(s){console.error("Error fetching billing details:",s),l([])}finally{j(!1)}},g=s=>{m(s),c(!0)};i.useEffect(()=>{f()},[n]);const k=(s,t=100)=>{const o=document.createElement("div");o.innerHTML=s;const d=o.textContent||o.innerText||"";return d.length>t?d.substring(0,t)+"...":d};return e.jsxs(e.Fragment,{children:[e.jsxs(_,{children:[e.jsx(S,{children:e.jsx("h3",{children:"Pick Package Details"})}),e.jsx(M,{children:p?e.jsx("div",{className:"text-center",children:"Loading..."}):e.jsxs(T,{striped:!0,hover:!0,responsive:!0,children:[e.jsx(P,{children:e.jsxs(h,{children:[e.jsx(a,{children:"Sr. No"}),e.jsx(a,{children:"Order ID"}),e.jsx(a,{children:"Pick Title"}),e.jsx(a,{children:"Pick Description"}),e.jsx(a,{children:"Price ($)"}),e.jsx(a,{children:"Purchase Status"}),e.jsx(a,{children:"Payment Mode"}),e.jsx(a,{children:"Start Date"}),e.jsx(a,{children:"End Date"})]})}),e.jsx(y,{children:x.length>0?x.map((s,t)=>e.jsxs(h,{children:[e.jsx(r,{children:t+1}),e.jsx(r,{children:s.order_id}),e.jsx(r,{children:s.pick_title}),e.jsxs(r,{children:[k(s.pick_description),s.pick_description&&e.jsx(v,{color:"link",className:"p-0 ps-1",onClick:()=>g(s.pick_description),children:"Read More"})]}),e.jsxs(r,{children:["$",s.pick_price]}),e.jsx(r,{children:s.purchase_status?"Success":"Failed"}),e.jsx(r,{children:s.payment_mode}),e.jsx(r,{children:s.start_time}),e.jsx(r,{children:s.end_time})]},t)):e.jsx(h,{children:e.jsx(r,{colSpan:"9",className:"text-center",children:"No package data available"})})})]})})]}),e.jsxs(B,{visible:u,onClose:()=>c(!1),children:[e.jsx(E,{onClose:()=>c(!1),children:"Full Description"}),e.jsx(H,{children:e.jsx("div",{dangerouslySetInnerHTML:{__html:C}})})]})]})};export{G as default};
