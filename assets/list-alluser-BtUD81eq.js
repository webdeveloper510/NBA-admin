import{r as x,j as e,h as y}from"./index-Dtxc0q-i.js";import{h as w,i as N}from"./api-BQjLK197.js";import{C as P,a as k}from"./CCardBody-BacFSDsG.js";import{C as A}from"./CCardHeader-B1YBpEu4.js";import{c as B}from"./index-QfSgqX_7.js";import{C as L,a as T,b as j,c as f,d as D,e as u}from"./CTable-DQBwdoja.js";import{C as b}from"./DefaultLayout-BNySFecv.js";import"./CButton-KDkBZh_O.js";import"./CContainer-DjPeZ1kv.js";import"./index.esm-D6_xtQv2.js";import"./cil-lock-locked-DmxpJbVL.js";const E=["xxl","xl","lg","md","sm","xs"],I="xs",g=x.createContext({prefixes:{},breakpoints:E,minBreakpoint:I}),{Consumer:Q,Provider:X}=g;function O(s,i){const{prefixes:t}=x.useContext(g);return s||t[i]||i}const R=["as","disabled"];function S(s,i){if(s==null)return{};var t={};for(var a in s)if({}.hasOwnProperty.call(s,a)){if(i.indexOf(a)>=0)continue;t[a]=s[a]}return t}function U(s){return!s||s.trim()==="#"}function v({tagName:s,disabled:i,href:t,target:a,rel:o,role:r,onClick:c,tabIndex:m=0,type:p}){s||(t!=null||a!=null||o!=null?s="a":s="button");const d={tagName:s};if(s==="button")return[{type:p||"button",disabled:i},d];const n=l=>{if((i||s==="a"&&U(t))&&l.preventDefault(),i){l.stopPropagation();return}c==null||c(l)},h=l=>{l.key===" "&&(l.preventDefault(),n(l))};return s==="a"&&(t||(t="#"),i&&(t=void 0)),[{role:r??"button",disabled:void 0,tabIndex:i?void 0:m,href:t,target:s==="a"?a:void 0,"aria-disabled":i||void 0,rel:s==="a"?o:void 0,onClick:n,onKeyDown:h},d]}const _=x.forwardRef((s,i)=>{let{as:t,disabled:a}=s,o=S(s,R);const[r,{tagName:c}]=v(Object.assign({tagName:t,disabled:a},o));return e.jsx(c,Object.assign({},o,r,{ref:i}))});_.displayName="Button";const C=x.forwardRef(({as:s,bsPrefix:i,variant:t="primary",size:a,active:o=!1,disabled:r=!1,className:c,...m},p)=>{const d=O(i,"btn"),[n,{tagName:h}]=v({tagName:s,disabled:r,...m}),l=h;return e.jsx(l,{...n,...m,ref:p,disabled:r,className:B(c,d,o&&"active",t&&`${d}-${t}`,a&&`${d}-${a}`,m.href&&r&&"disabled")})});C.displayName="Button";const Y=()=>{const[s,i]=x.useState([]);console.log("ðŸš€ ~ ListAlluser ~ userData:",s);const[t,a]=x.useState(!1),[o,r]=x.useState(!1),c=y(),m=async()=>{r(!0);try{const n=t?await w():await N();n&&n.data&&n.status===200&&i(n.data)}catch(n){console.error("Error fetching data:",n)}finally{r(!1)}};x.useEffect(()=>{m()},[t]);const p=()=>{a(!t)},d=n=>{c(`/user-packages/${n}`)};return e.jsxs(P,{children:[e.jsx(A,{children:e.jsxs("div",{className:"divButton d-flex justify-content-between align-items-center",children:[e.jsx("h3",{children:t?"Admin List":"Users List"}),e.jsx(C,{variant:"primary",onClick:p,children:t?e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"bi bi-people-fill me-2"})," View Users"]}):e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"bi bi-shield-lock-fill me-2"})," View Admins"]})})]})}),e.jsx(k,{children:o?e.jsx("div",{className:"text-center",children:"Loading..."}):e.jsxs(L,{striped:!0,hover:!0,responsive:!0,children:[e.jsx(T,{children:e.jsxs(j,{children:[e.jsx(f,{children:"Sr No"}),e.jsx(f,{children:"First Name"}),e.jsx(f,{children:"Last Name"}),e.jsx(f,{children:"Email"}),e.jsx(f,{children:"AI Picks"}),e.jsx(f,{children:"Packages"})]})}),e.jsx(D,{children:s.length>0?s.map((n,h)=>e.jsxs(j,{children:[e.jsx(u,{children:h+1}),e.jsx(u,{children:n.firstname}),e.jsx(u,{children:n.lastname}),e.jsx(u,{children:n.email}),e.jsx(u,{children:e.jsx(u,{children:n.subscription_status?e.jsx(b,{color:"success",children:"Active"}):e.jsx(b,{color:"secondary",children:"Inactive"})})}),e.jsx(u,{children:e.jsx(C,{className:"view_packages",size:"sm",variant:"info",onClick:()=>d(n.id),children:"View Packages"})})]},n.id)):e.jsx(j,{children:e.jsx(u,{colSpan:"6",className:"text-center",children:"No data available"})})})]})})]})};export{Y as default};
