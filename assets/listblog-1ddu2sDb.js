import{r as d,j as e}from"./index-DuqvS91S.js";import{C}from"./index.esm-MuKWKgsN.js";import{d as v}from"./api-n1H7vtPA.js";import{C as y,a as S}from"./CCardBody-B_h6Wv9I.js";import{C as N}from"./CCardHeader-BgIgl8Lb.js";import{C as D,a as I,b as x,c as i,d as M,e as r}from"./CTable-Bpdo7VYS.js";import{C as b}from"./CImage-DZY15hQj.js";import{c as F,a as H}from"./cil-trash-prAk5aip.js";import{C as _,a as k,b as E,c as w}from"./CModalHeader-DnkdNfe_.js";import{C as j}from"./CFormInput-CYOGfRxp.js";import{C as L}from"./CFormTextarea-CoSu8Stw.js";import{a as p}from"./CContainer-w3B1MxoP.js";import"./DefaultLayout-BqC93kKY.js";import"./cil-lock-locked-DmxpJbVL.js";import"./CFormControlWrapper-wcc7ojOc.js";import"./CFormControlValidation-B5dL-lC2.js";import"./CFormLabel-CMWhEKah.js";const ee=()=>{const[l,o]=d.useState([]),[f,n]=d.useState(!1),[a,h]=d.useState(null);d.useEffect(()=>{u()},[]);const u=()=>{v().then(s=>{var t,c;((t=s.data)==null?void 0:t.status)==200?o((c=s==null?void 0:s.data)==null?void 0:c.data):o([])}).catch(s=>{console.log(s)})},g=s=>{const t=[...l];t.splice(s,1),o(t),localStorage.setItem("blogs",JSON.stringify(t))},B=s=>{h({...l[s],index:s}),n(!0)},m=s=>{const{name:t,value:c}=s.target;h({...a,[t]:c})},T=()=>{const s=[...l];s[a.index]={...a},delete s[a.index].index,o(s),localStorage.setItem("blogs",JSON.stringify(s)),n(!1)};return e.jsxs(e.Fragment,{children:[e.jsxs(y,{className:"",children:[e.jsx(N,{children:e.jsx("h3",{children:"Blog List"})}),e.jsx(S,{children:e.jsxs(D,{striped:!0,hover:!0,responsive:!0,className:"custom-table",children:[e.jsx(I,{children:e.jsxs(x,{children:[e.jsx(i,{children:"#"}),e.jsx(i,{children:"Title"}),e.jsx(i,{children:"Date"}),e.jsx(i,{children:"Image"}),e.jsx(i,{children:"Description"}),e.jsx(i,{children:"Actions"})]})}),e.jsx(M,{children:(l==null?void 0:l.length)>0?l==null?void 0:l.map((s,t)=>e.jsxs(x,{children:[e.jsx(r,{children:t+1}),e.jsx(r,{children:s.title}),e.jsx(r,{children:s.created_at}),e.jsx(r,{children:e.jsx(b,{src:s==null?void 0:s.file_url,alt:(s==null?void 0:s.media_file)||"media",width:100,thumbnail:!0})}),e.jsx(r,{children:e.jsx("div",{dangerouslySetInnerHTML:{__html:s.description},className:"ellipsis",title:s.description})}),e.jsxs(r,{children:[e.jsx(C,{icon:F,className:"me-2 text-primary",role:"button",onClick:()=>B(t)}),e.jsx(C,{icon:H,className:"text-danger",role:"button",onClick:()=>g(t)})]})]},t)):e.jsx(e.Fragment,{})})]})})]}),e.jsxs(_,{visible:f,onClose:()=>n(!1),children:[e.jsx(k,{children:"Edit Blog"}),e.jsxs(E,{children:[e.jsx(j,{label:"Title",name:"title",value:(a==null?void 0:a.title)||"",onChange:m,className:"mb-3"}),e.jsx(j,{label:"Date",type:"date",name:"date",value:(a==null?void 0:a.date)||"",onChange:m,className:"mb-3"}),e.jsx(L,{label:"Description",rows:"4",name:"description",value:(a==null?void 0:a.description)||"",onChange:m})]}),e.jsxs(w,{children:[e.jsx(p,{color:"secondary",onClick:()=>n(!1),children:"Cancel"}),e.jsx(p,{color:"primary",onClick:T,children:"Save Changes"})]})]})]})};export{ee as default};
