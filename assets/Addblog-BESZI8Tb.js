import{r as c,h as v,j as e}from"./index-X8N2_xbW.js";import{R as B}from"./index-D3q2T6rG.js";/* empty css                */import{c as b}from"./api-D5ENb5m_.js";import{C as N,a as y}from"./CCardBody-BRXcraVw.js";import{C as A}from"./CCardHeader-BocOilOO.js";import{C as L}from"./CAlert-rNZx4VSy.js";import{C as _}from"./CForm-C0K_jOyy.js";import{C as p,a as i}from"./CRow-DdD745wR.js";import{C as l}from"./CFormLabel-Cj9i2zVz.js";import{C as h}from"./CFormInput-CmloOF11.js";import{C as S}from"./CFormSelect-lO4XVsyz.js";import{a as w}from"./CButton-BQQ_XzMg.js";import"./isEqual-D1ErSouo.js";import"./DefaultLayout-B_eFmCjx.js";import"./CContainer-Bmu7i1tt.js";import"./index.esm-CUCfqwFk.js";import"./cil-lock-locked-DmxpJbVL.js";import"./CFormControlWrapper-DsfFr6uy.js";import"./CFormControlValidation-BzcG-KMm.js";const X=()=>{const[s,n]=c.useState({title:"",images:[],imageFiles:[],description:"",date:"",sports_name:""}),[g,x]=c.useState({title:"",description:"",date:"",sports_name:""}),[m,u]=c.useState({visible:!1,color:"",message:""}),j=v(),C=(r,t)=>{u({visible:!0,color:r,message:t}),setTimeout(()=>u({visible:!1,color:"",message:""}),5e3)},d=r=>{const{name:t,value:a}=r.target;n({...s,[t]:a})},f=r=>{const t=r.target.files;if(t.length>0){const a=Array.from(t).map(o=>({url:URL.createObjectURL(o),filename:o.name,file:o}));n({...s,images:[...s.images,...a],imageFiles:[...s.imageFiles,...t]}),g.images&&x({...g,images:""})}},F=async r=>{r.preventDefault();try{const t=new FormData;t.append("title",s.title),t.append("date",s.date),t.append("description",s.description),t.append("sports_name",s.sports_name),s.imageFiles.forEach(o=>{t.append("file",o)});const a=await b(t);a&&a.status===201?(C("success","Media saved successfully!"),j("/list-blog"),n({title:"",sports_name:"",description:"",images:[],imageFiles:[]})):console.log("danger",`Error: ${(a==null?void 0:a.error)||"Failed to save media"}`)}catch(t){console.log("danger",`Error: ${t.message||"Unknown error"}`)}finally{}};return e.jsxs(N,{className:"",children:[e.jsx(A,{children:e.jsx("h3",{children:"Add New Blog"})}),e.jsxs(y,{children:[m.visible&&e.jsx(L,{color:m.color,children:m.message}),e.jsxs(_,{encType:"multipart/form-data",children:[e.jsxs(p,{className:"mb-3",children:[e.jsxs(i,{md:6,children:[e.jsx(l,{htmlFor:"title",children:"Blog Title"}),e.jsx(h,{type:"text",name:"title",id:"title",value:s.title,onChange:d,required:!0})]}),e.jsxs(i,{md:6,children:[e.jsx(l,{htmlFor:"date",children:"Date"}),e.jsx(h,{type:"date",name:"date",id:"date",value:s.date,onChange:d,required:!0})]})]}),e.jsxs(p,{className:"mb-3",children:[e.jsxs(i,{md:6,children:[e.jsx(l,{htmlFor:"sports_name",children:"Sport Name"}),e.jsxs(S,{name:"sports_name",id:"sports_name",value:s.sports_name,onChange:d,required:!0,children:[e.jsx("option",{value:"",children:"Select a sport"}),e.jsx("option",{value:"MLB",children:"MLB"}),e.jsx("option",{value:"NBA",children:"NBA"}),e.jsx("option",{value:"NHL",children:"NHL"}),e.jsx("option",{value:"NCAAF",children:"NCAAF"}),e.jsx("option",{value:"CFB",children:"CFB"}),e.jsx("option",{value:"NFL",children:"NFL"})]})]}),e.jsxs(i,{md:6,children:[e.jsx(l,{htmlFor:"image",children:"Blog Image"}),e.jsx(h,{type:"file",name:"image",id:"image",accept:"image/*",onChange:f})]})]}),e.jsx(p,{className:"mb-3",children:e.jsxs(i,{md:12,children:[e.jsx(l,{htmlFor:"description",children:"Blog Description"}),e.jsx(B,{theme:"snow",value:s.description,onChange:r=>n({...s,description:r}),placeholder:"Write blog content here...",style:{height:"200px",marginBottom:"50px"}})]})}),e.jsx(w,{type:"button",onClick:r=>F(r),color:"primary",children:"Submit Blog"})]})]})]})};export{X as default};
